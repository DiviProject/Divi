<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIVX Project: libzerocoin::CoinSpend Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIVX Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>libzerocoin</b></li><li class="navelem"><a class="el" href="classlibzerocoin_1_1_coin_spend.html">CoinSpend</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classlibzerocoin_1_1_coin_spend-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">libzerocoin::CoinSpend Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_coin_spend_8h_source.html">CoinSpend.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af4adb9a70e147e566ce7a54b1747e517"><td class="memTemplParams" colspan="2"><a id="af4adb9a70e147e566ce7a54b1747e517"></a>
template&lt;typename Stream &gt; </td></tr>
<tr class="memitem:af4adb9a70e147e566ce7a54b1747e517"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>CoinSpend</b> (const <a class="el" href="classlibzerocoin_1_1_zerocoin_params.html">ZerocoinParams</a> *p, Stream &amp;strm)</td></tr>
<tr class="separator:af4adb9a70e147e566ce7a54b1747e517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26a001c08285be91ca2bf1d310d3cd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibzerocoin_1_1_coin_spend.html#ab26a001c08285be91ca2bf1d310d3cd6">CoinSpend</a> (const <a class="el" href="classlibzerocoin_1_1_zerocoin_params.html">ZerocoinParams</a> *p, const <a class="el" href="classlibzerocoin_1_1_private_coin.html">PrivateCoin</a> &amp;coin, <a class="el" href="classlibzerocoin_1_1_accumulator.html">Accumulator</a> &amp;a, const uint32_t checksum, const <a class="el" href="classlibzerocoin_1_1_accumulator_witness.html">AccumulatorWitness</a> &amp;witness, const <a class="el" href="classuint256.html">uint256</a> &amp;ptxHash)</td></tr>
<tr class="separator:ab26a001c08285be91ca2bf1d310d3cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125e5f3e268571a5549aa10bf9ad0f2b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_c_big_num.html">CBigNum</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibzerocoin_1_1_coin_spend.html#a125e5f3e268571a5549aa10bf9ad0f2b">getCoinSerialNumber</a> () const</td></tr>
<tr class="separator:a125e5f3e268571a5549aa10bf9ad0f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e36726a516e8b0a110fa40afbcc76bc"><td class="memItemLeft" align="right" valign="top">CoinDenomination&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibzerocoin_1_1_coin_spend.html#a1e36726a516e8b0a110fa40afbcc76bc">getDenomination</a> () const</td></tr>
<tr class="separator:a1e36726a516e8b0a110fa40afbcc76bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28d898602cc07bd02f77fd8bc641600"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibzerocoin_1_1_coin_spend.html#af28d898602cc07bd02f77fd8bc641600">getAccumulatorChecksum</a> () const</td></tr>
<tr class="separator:af28d898602cc07bd02f77fd8bc641600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58d9ad8806aac3e37ff1110d95a12bbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuint256.html">uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibzerocoin_1_1_coin_spend.html#a58d9ad8806aac3e37ff1110d95a12bbb">getTxOutHash</a> () const</td></tr>
<tr class="separator:a58d9ad8806aac3e37ff1110d95a12bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993416fb14e9c64efd30250d660aa6e0"><td class="memItemLeft" align="right" valign="top"><a id="a993416fb14e9c64efd30250d660aa6e0"></a>
<a class="el" href="class_c_big_num.html">CBigNum</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getAccCommitment</b> () const</td></tr>
<tr class="separator:a993416fb14e9c64efd30250d660aa6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8a4c89acab5b530f728c4a57389c6f"><td class="memItemLeft" align="right" valign="top"><a id="a1c8a4c89acab5b530f728c4a57389c6f"></a>
<a class="el" href="class_c_big_num.html">CBigNum</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getSerialComm</b> () const</td></tr>
<tr class="separator:a1c8a4c89acab5b530f728c4a57389c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8005b899d45939c63ccaba43011c85b"><td class="memItemLeft" align="right" valign="top"><a id="ad8005b899d45939c63ccaba43011c85b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Verify</b> (const <a class="el" href="classlibzerocoin_1_1_accumulator.html">Accumulator</a> &amp;a) const</td></tr>
<tr class="separator:ad8005b899d45939c63ccaba43011c85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64eae09a4ab03e01e46f7a967f0ab1b9"><td class="memItemLeft" align="right" valign="top"><a id="a64eae09a4ab03e01e46f7a967f0ab1b9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>HasValidSerial</b> (<a class="el" href="classlibzerocoin_1_1_zerocoin_params.html">ZerocoinParams</a> *params) const</td></tr>
<tr class="separator:a64eae09a4ab03e01e46f7a967f0ab1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3f9990bf4a44242f392fbda37503f5"><td class="memItemLeft" align="right" valign="top"><a id="a9d3f9990bf4a44242f392fbda37503f5"></a>
<a class="el" href="class_c_big_num.html">CBigNum</a>&#160;</td><td class="memItemRight" valign="bottom"><b>CalculateValidSerial</b> (<a class="el" href="classlibzerocoin_1_1_zerocoin_params.html">ZerocoinParams</a> *params)</td></tr>
<tr class="separator:a9d3f9990bf4a44242f392fbda37503f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e805030691223c64506a3c5558423d0"><td class="memTemplParams" colspan="2"><a id="a1e805030691223c64506a3c5558423d0"></a>
template&lt;typename Stream , typename Operation &gt; </td></tr>
<tr class="memitem:a1e805030691223c64506a3c5558423d0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>SerializationOp</b> (Stream &amp;s, Operation ser_action, int nType, int nVersion)</td></tr>
<tr class="separator:a1e805030691223c64506a3c5558423d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aee9039ba19056a64591ba4c6f9720290"><td class="memItemLeft" align="right" valign="top"><a id="aee9039ba19056a64591ba4c6f9720290"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ADD_SERIALIZE_METHODS</b></td></tr>
<tr class="separator:aee9039ba19056a64591ba4c6f9720290"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The complete proof needed to spend a zerocoin. Composes together a proof that a coin is accumulated and that it has a given serial number. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab26a001c08285be91ca2bf1d310d3cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab26a001c08285be91ca2bf1d310d3cd6">&#9670;&nbsp;</a></span>CoinSpend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libzerocoin::CoinSpend::CoinSpend </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibzerocoin_1_1_zerocoin_params.html">ZerocoinParams</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibzerocoin_1_1_private_coin.html">PrivateCoin</a> &amp;&#160;</td>
          <td class="paramname"><em>coin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibzerocoin_1_1_accumulator.html">Accumulator</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>checksum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibzerocoin_1_1_accumulator_witness.html">AccumulatorWitness</a> &amp;&#160;</td>
          <td class="paramname"><em>witness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuint256.html">uint256</a> &amp;&#160;</td>
          <td class="paramname"><em>ptxHash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates a proof spending a zerocoin.</p>
<p>To use this, provide an unspent <a class="el" href="classlibzerocoin_1_1_private_coin.html">PrivateCoin</a>, the latest <a class="el" href="classlibzerocoin_1_1_accumulator.html" title="Implementation of the RSA-based accumulator. ">Accumulator</a> (e.g from the most recent Bitcoin block) containing the public part of the coin, a witness to that, and whatever medeta data is needed.</p>
<p>Once constructed, this proof can be serialized and sent. It is validated simply be calling validate. </p><dl class="section warning"><dt>Warning</dt><dd>Validation only checks that the proof is correct </dd>
<dd>
for the specified values in this class. These values must be validated Clients ought to check that 1) params is the right params 2) the accumulator actually is in some block 3) that the serial number is unspent 4) that the transaction</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>cryptographic parameters </td></tr>
    <tr><td class="paramname">coin</td><td>The coin to be spend </td></tr>
    <tr><td class="paramname">a</td><td>The current accumulator containing the coin </td></tr>
    <tr><td class="paramname">witness</td><td>The witness showing that the accumulator contains the coin </td></tr>
    <tr><td class="paramname">a</td><td>hash of the partial transaction that contains this coin spend </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ZerocoinException</td><td>if the process fails </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af28d898602cc07bd02f77fd8bc641600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28d898602cc07bd02f77fd8bc641600">&#9670;&nbsp;</a></span>getAccumulatorChecksum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t libzerocoin::CoinSpend::getAccumulatorChecksum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the checksum of the accumulator used in this proof.</p>
<dl class="section return"><dt>Returns</dt><dd>the checksum </dd></dl>

</div>
</div>
<a id="a125e5f3e268571a5549aa10bf9ad0f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a125e5f3e268571a5549aa10bf9ad0f2b">&#9670;&nbsp;</a></span>getCoinSerialNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_c_big_num.html">CBigNum</a>&amp; libzerocoin::CoinSpend::getCoinSerialNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the serial number of the coin spend by this proof.</p>
<dl class="section return"><dt>Returns</dt><dd>the coin's serial number </dd></dl>

</div>
</div>
<a id="a1e36726a516e8b0a110fa40afbcc76bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e36726a516e8b0a110fa40afbcc76bc">&#9670;&nbsp;</a></span>getDenomination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CoinDenomination libzerocoin::CoinSpend::getDenomination </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the denomination of the coin spent in this proof.</p>
<dl class="section return"><dt>Returns</dt><dd>the denomination </dd></dl>

</div>
</div>
<a id="a58d9ad8806aac3e37ff1110d95a12bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58d9ad8806aac3e37ff1110d95a12bbb">&#9670;&nbsp;</a></span>getTxOutHash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuint256.html">uint256</a> libzerocoin::CoinSpend::getTxOutHash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the txout hash used in this proof.</p>
<dl class="section return"><dt>Returns</dt><dd>the txout hash </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>PIVX/src/libzerocoin/<a class="el" href="_coin_spend_8h_source.html">CoinSpend.h</a></li>
<li>PIVX/src/libzerocoin/<a class="el" href="_coin_spend_8cpp.html">CoinSpend.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
